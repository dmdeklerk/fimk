<div ng-controller="FaucetPluginController">
  <h4>Faucet status: NXT <strong style="color: {{dgex_online?'green':'red'}}">{{dgex_online?'online':'offline'}}</strong> FIMK <strong style="color: {{fimk_online?'green':'red'}}">{{fimk_online?'online':'offline'}}</strong></h4>
  <div class="well well-sm"><p>This faucet can be used by new account holders to get started with FIMK or NXT by receiving a small amount of cryptocurrency to a freshly created (empty) account. Email confirmation is needed.</p>
  <p>Please enter your email address and FIMK or NXT account number to continue.</p>
  <p>FIMK faucet is sponsored by <a href="http://fimk.fi" target="_blank">FIMKrypto.org</a>. NXT faucet is sponsored by <a href="https://dgex.com" target="_blank">DGEX.com</a>. The email address you give is recorded in the database of FIMKrypto or DGEX respectively and may be rarely used for organizational or commercial communication by FIMKrypto or DGEX. You may opt out of the mailing list at any time.</p></div>
  <div class="alert alert-danger" role="alert" ng-show="items.error">{{items.error}}</div>
  <div class="alert alert-success" role="alert" ng-show="items.success">{{items.success}}</div>
  <div class="row">
    <div class="col-md-6">
      <button class="btn btn-lg btn-success" ng-click="localCreateAccount()">Create a new Account</button>
      <button class="btn btn-lg btn-primary pull-right" ng-click="selectAccount()">Select an existing Account</button>
      <br><br>
    </div>
  </div>
  <div class="row">  
    <div class="col-md-6">
      <form accept-charset="UTF-8" role="form" name="faucetForm" novalidate>
        <div class="form-group" ng-class="{ 'has-error' : faucetForm.email.$invalid && !faucetForm.email.$pristine }">
          <label for="faucet-email" class="control-label">Email</label>
          <div class="input-group">
            <input class="form-control" id="faucet-email" placeholder="Email" name="email" 
              type="email" ng-model="items.email" required>
            <span class="input-group-btn">
              <button class="btn btn-default" type="button" disabled>
                <span class="glyphicon glyphicon-envelope"></span>
              </button>
            </span>
          </div>
        </div>
        <div class="form-group" ng-class="{ 'has-error' : faucetForm.account.$invalid && !faucetForm.account.$pristine }">
          <label for="faucet-account" class="control-label">Account</label>
          <div class="input-group">
            <input class="form-control" id="faucet-account" placeholder="FIM or NXT address" name="account" 
              type="text" ng-model="items.account" required ng-change="accountChanged()">
            <span class="input-group-btn">
              <button class="btn btn-default" type="button" disabled>
                <span class="glyphicon glyphicon-briefcase"></span>
              </button>
            </span>
          </div>
        </div>
        <div class="form-group" ng-class="{ 'has-error' : faucetForm.publickey.$invalid && !faucetForm.publickey.$pristine }">
          <label for="faucet-account" class="control-label">Public key</label>
          <div class="input-group">
            <input class="form-control" id="faucet-account" placeholder="Public key" name="publickey" 
              type="text" ng-model="items.publicKey" required>
            <span class="input-group-btn">
              <button class="btn btn-default" type="button" disabled>
                <span class="glyphicon glyphicon-tower"></span>
              </button>
            </span>
          </div>
        </div>   
        <div class="form-group" style="padding-top:20px">
          <button type="button" class="btn btn-lg btn-success" ng-click="send()" 
            ng-disabled="!faucetForm.$valid || sendSuccess">{{items.sendButtonTxt}}</button>
        </div>  
      </form>
    </div>
  </div>
</div>