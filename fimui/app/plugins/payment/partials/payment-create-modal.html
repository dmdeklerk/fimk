<div class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title" ng-bind="dialogTitle"></h3>
  </div>
  <div class="panel-body">
    <form accept-charset="UTF-8" role="form" name="paymentCreateForm" class="form-horizontal">
      <div class="well" ng-show="items.message && !sendSuccess">{{items.message}}</div>
      <div class="alert alert-success" role="alert" ng-show="sendSuccess">Payment send successfully. Transaction ID is {{items.transaction}}</div>
      <div class="form-group" ng-show="!$parent.useSecretPhrase">
        <label for="payment-account-select1" class="control-label col-xs-2">Sender</label>
        <div class="col-xs-10">
          <div class="input-group">
            <select id="payment-account-select1"
                    class="form-control"
                    ng-model="$parent.selectedAccount" 
                    ng-options="a as formatAccount(a) for a in accounts" 
                    ng-change="senderChanged()"
                    ng-disabled="sendSuccess"
                    ng-mouseenter="setTitle('Select sender account from list')" ng-mouseleave="setTitle(null)"></select>
            <span class="input-group-btn">
              <button ng-click="$parent.useSecretPhrase = true" class="btn btn-default" type="button" ng-disabled="sendSuccess"
                ng-mouseenter="setTitle('Enter secretphrase (instead of account from list)')" ng-mouseleave="setTitle(null)">
                <span class="glyphicon glyphicon-transfer"></span>
              </button>
            </span>
          </div>
        </div>
      </div>
      <div class="form-group" ng-show="$parent.useSecretPhrase">
        <label for="payment-account-calcsender" class="control-label col-xs-2">Sender</label>
        <div class="col-xs-10">
          <input class="form-control" id="payment-account-calcsender" name="calcsender" 
              type="text" value="{{$parent.senderRSCalc.id}} | {{$parent.senderRSCalc.balance}} FIM" readonly
              ng-mouseenter="setTitle('The secretphrase is for this account number')" ng-mouseleave="setTitle(null)">          
        </div>
      </div>
      <div class="form-group" ng-show="$parent.useSecretPhrase">
        <label for="payment-account-select2" class="control-label col-xs-2">Secretphrase</label>
        <div class="col-xs-10">
          <div class="input-group">
            <input class="form-control" id="payment-account-select2" placeholder="Secretphrase" name="secretphrase" 
              type="password" ng-model="items.secretPhrase" ng-change="secretPhraseChanged()" ng-disabled="sendSuccess"
              ng-mouseenter="setTitle('Enter secretphrase (instead of account from list)')" ng-mouseleave="setTitle(null)">
            <span class="input-group-btn">
              <button ng-click="$parent.useSecretPhrase = false" class="btn btn-default" type="button" ng-disabled="sendSuccess"
                ng-mouseenter="setTitle('Click to select account from list')" ng-mouseleave="setTitle(null)">
                <span class="glyphicon glyphicon-transfer"></span>
              </button>
            </span>
          </div>
        </div>
      </div>      
      <div class="form-group">
        <label for="payment-recipient-1" class="control-label col-xs-2">Recipient</label>
        <div class="col-xs-10">
          <div class="input-group">
            <input class="form-control" id="payment-recipient-1" placeholder="Recipient" name="recipient" 
              type="text" ng-model="items.recipientRS" ng-change="recipientChanged(this)" ng-disabled="sendSuccess || items.recipientReadonly"
              ng-mouseenter="setTitle('Enter recipient account number')" ng-mouseleave="setTitle(null)">
            <span class="input-group-btn">
              <button ng-click="selectContact()" class="btn btn-default" type="button" ng-disabled="sendSuccess || items.recipientReadonly"
                ng-mouseenter="setTitle('Select recipient from contacts list')" ng-mouseleave="setTitle(null)">
                <span class="glyphicon glyphicon-user"></span>
              </button>
            </span>
          </div>
        </div>
      </div>
      <div class="form-group" ng-show="items.showPublicKey">
        <label for="payment-publickey-1" class="control-label col-xs-2"></label>
        <div class="col-xs-10">
          <input class="form-control monospace" id="payment-publickey-1" placeholder="Recipient Publickey" name="publickey" 
            type="text" ng-model="items.recipientPublicKey" ng-disabled="sendSuccess" ng-mouseenter="setTitle('This is the recipients publickey')" ng-mouseleave="setTitle(null)">
        </div>
      </div>
      <div class="form-group">
        <label for="payment-amount-1" class="control-label col-xs-2">Amount</label>
        <div class="col-xs-10">
          <input money precision="8" class="form-control" id="payment-amount-1" placeholder="Amount" name="amount" type="text" 
            ng-model="items.amountNXT" ng-disabled="sendSuccess" 
            ng-mouseenter="setTitle('Enter the amount you wish to send')" ng-mouseleave="setTitle(null)">
        </div>
      </div>
      <div class="form-group" ng-show="items.advanced">
        <label for="payment-fee-1" class="control-label col-xs-2">Fee</label>
        <div class="col-xs-4">
          <input money precision="8" class="form-control" id="payment-fee-1" placeholder="Fee" name="fee" type="text" 
              ng-model="items.feeNXT" ng-disabled="sendSuccess" 
              ng-mouseenter="setTitle('Enter a fee, minimum is 0.1 FIM')" ng-mouseleave="setTitle(null)">
        </div>
        <label for="payment-deadline-1" class="control-label col-xs-2">Deadline</label>
        <div class="col-xs-4">
          <input class="form-control" id="payment-deadline-1" placeholder="Deadline" name="deadline" 
                type="text" ng-model="items.deadline" ng-disabled="sendSuccess"
                ng-mouseenter="setTitle('Set the deadline minimum 1 maximum 1440')" ng-mouseleave="setTitle(null)">
        </div>
      </div>
      <div class="form-group" ng-show="!items.advanced || !items.showPublicKey">
        <span class="form-control-static col-xs-12">
          <a href ng-click="items.advanced = !items.advanced" ng-show="!items.advanced" ng-mouseenter="setTitle('Click to adjust fee and deadline')" ng-mouseleave="setTitle(null)"><strong>Fee:</strong> {{items.feeNXT}} <strong>Deadline:</strong> {{items.deadline}}</a><a class="pull-right" href ng-click="items.showPublicKey = !items.showPublicKey" ng-show="!items.showPublicKey" ng-mouseenter="setTitle('Click to show recipient publickey')" ng-mouseleave="setTitle(null)">Show Publickey</a>
        </span>
      </div>
      <div class="alert alert-{{items.recipientAlertLevel}}" role="alert" 
          ng-show="items.recipientDescriptionHTML && !sendSuccess" ng-bind-html="to_trusted(items.recipientDescriptionHTML)"></div>
      <div class="form-group">
        <label class="control-label col-xs-12"></label>
      </div>
      <div class="form-group">
        <div class="col-xs-6">
          <button ng-if="!sendSuccess" class="btn btn-block btn-success" ng-click="close()" ng-disabled="!items.valid">Send Payment</button>
          <button ng-if="sendSuccess" class="btn btn-block btn-success" ng-click="close()">Close</button>
        </div>
        <div class="col-xs-6">
          <button ng-click="dismiss()" type="button" class="btn btn-block" ng-disabled="sendSuccess">Cancel</button>
        </div>
      </div>  
    </form>
  </div>
</div>